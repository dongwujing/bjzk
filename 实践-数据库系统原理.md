## 数据库操作
- mysql -u root -p    -- 登录数据库 输入密码
- show databases;     -- 显示数据库
- use db1;            -- 选中数据库
- drop db1;           -- 删除数据库
- create database db2 default charset utf8;   --创建数据库
## ddl
- 创建表
    CREATE TABLE T_USER (
        USER_ID INT NOT NULL AUTO_INCREMENT,
        USER_NAME CHAR ( 30 ) NOT NULL,
        USER_PASSWORD CHAR ( 10 ) NOT NULL,
        USER_EMAIL CHAR ( 30 ) NOT NULL,
        PRIMARY KEY ( USER_ID ),
    INDEX IDX_NAME ( USER_NAME ) 
    ) ENGINE = INNODB DEFAULT CHARSET = UTF8;
- 修改表结构
    ALTER TABLE `ts_050114203586_dongwujing`.`T_USER` 
    ADD COLUMN `addres` varchar(255) NULL COMMENT '住址' AFTER `USER_EMAIL`;
- 删除字段
    ALTER TABLE `ts_050114203586_dongwujing`.`T_USER`   
    DROP COLUMN `addres`;
- 删除表
    drop table ts_050114203586_dongwujing.t_user

## dml
- select * from ts_050114203586_dongwujing.t_user;
- insert table ts_050114203586_dongwujing.t_user (USER_ID,user_name) value (3,'test');
- delete from ts_050114203586_dongwujing.t_user where id=3;
- update ts_050114203586_dongwujing.t_user set user_name='xx' where user_id=3;
## 创建存储过程 produce
-  创建存储过程1
    CREATE PROCEDURE  search_name (IN p_name CHAR (20))
    BEGIN
        IF p_name IS NULL  OR p_name = ''  THEN
                SELECT *  FROM t_user;
        ELSE 
                SELECT *  FROM t_user  WHERE USER_NAME LIKE p_name;
        END IF;
    END
- 调用存储过程
    CALL search_name('zs')
-  测试创建存储过程2
    delimiter $$ 
    create procedure p_search(in uid int)
    BEGIN
        select * from t_user where user_id=uid;
    END

    call p_search(1)
## 创建函数 function
-  创建存储过程
	delimiter $$
	create function compare_max(p1 int,p2 int)  
	returns int
	UNSIGNED NO SQL 
	begin
			if p1 >= p2 then
					return p1; 
			else
					return p2; 
			end if; 
	end $$
- 调用函数 
	select compare_max(1,2);
    show create function compare_max;
    drop function compare_max;
-   delimiter $$
    create FUNCTION search_name(uid int) 
    returns varchar(100)
    deterministic
    BEGIN
        DECLARE uname varchar(100);
            select user_name INTO uname from t_user where user_id=uid ;
        RETURN uname;
    END $$
-   select search_name(1)
## 创建用户 撤销用户
- CREATE USER 'dwj'@'localhost' IDENTIFIED by 'pwd';
- GRANT SELECT ON *.* TO 'test3'@localhost IDENTIFIED BY 'test3';
- SHOW GRANTS FOR nopass@localhost;
- REVOKE all ON test.* FROM nopass@localhost;
- select user from mysql.user; 
- select password(456);
- create user 'zhangsan'@'localhost' identified by '123','lisi'@'localhost' identified by password  '*531E182E2F72080AB0740FE2F2D68 9DBE0146E04';
- drop user lisi@localhost;
- rename user 'zhangsan'@'localhost' to 'wangwu'@'localhost';
- set password for 'wangwu'@'localhost'='*6B4F89A54E2D27ECD7E8DA05B4AB8FD9D1D8B119';
- grant select,update on test1.customers to 'liming'@'localhost' identified by '123',   'huang'@'localhost' identified by '789';
- grant all on test1.* to 'wangwu'@'localhost';
- grant create user on *.* to 'wangwu'@'localhost';
- grant select,update on test1.customers to 'zhou'@'localhost' identified by '123' with grant option;
- revoke select on test1.customers from 'zhou'@'localhost';
- 
## 创建视图
- create view user_view as 
-  select * from t_user  WITH CHECK OPTION;
## 模拟
- CREATE DATABASE `ts_00001_dongwujing` CHARACTER SET 'utf8' COLLATE 'utf8_bin';
## 触发器
- 语法格式
    CREATE <触发器名> < BEFORE | AFTER >
    <INSERT | UPDATE | DELETE >
    ON <表名> FOR EACH Row<触发器主体>
- 例子




