## 简述现代操作系统的特征
- 现代操作系统都支持多任务，具有并发、共享、虚拟和异步性特征。
- 并发是指两个或多个事件在同一时间间隔内发生。
- 共享是指系统中的资源可供内存中多个并发执行的进程共同使用。资源共享有两种方式，即互斥共享和同时共享。
- 异步性是指进程以不可预知的速度向前推进。
- 虚拟是指通过某种技术把一个物理实体变成若干逻辑上的对应物。

##  说明进程与程序的区别和联系。
- 区别：程序是静态的，进程是动态的；程序是永久的，进程是暂时存在的；程序与进程的存在实体不同。程序是指令的集合，而进程是包含了正文段、用户数据段和进程控制块的实体。联系：进程是程序的一次执行，进程总是对应至少一个特定的程序，执行程序的代码。一个程序可以对应多个进程。
## 什么是进程控制块？
- 进程控制块是进程实体的一部分，是操作系统中最重要的数据结构。
## 请说明进程控制块中所包含的信息。
- 1）进程标识符信息；（2）处理机状态信息；（3）进程调度信息；（4）进程控制信息。
## 简述在Linux系统中，新进程被创建时的两种执行可能。
- 当新进程被创建时，有两种执行可能。
1） 父进程与子进程并发执行。
2） 父进程等待，直到某个或全部子进程执行完毕。
## 调用创建新进程的系统调用来创建进程的一般步骤有哪些？
- 1）申请空白PCB；（2）为新进程分配资源；（3）初始化进程控制块；（4）将新进程插入就绪队列。
## 操作系统在什么情况下需要创建进程？
- 1）用户登录。（2）作业调度。（3）提供服务。（4）应用请求。
## 操作系统在什么情况下可能进行进程的阻塞和唤醒操作？
- 1）请求系统服务；（2）启动某种操作；（3）新数据尚未到达；（4）无新工作可做。
## 请简化描述完成进程阻塞的过程。
- （1）将进程的状态改为阻塞态。（2）将进程插入相应的阻塞队列。（3）转进程调度程序，从就绪进程中选择进程为其分配CPU。
## 请简述进程的唤醒过程。
- （1）将进程从阻塞队列中移出；
（2）将进程状态由阻塞态改为就绪态；
（3）将进程插入就绪队列。 
## 简述操作系统通过系统调用完成进程终止的一般过程。
- 1）从进程PCB中读进程状态。
（2）若进程正在执行，则终止进程的执行。
（3）若进程有子孙进程，在大多数情况下需要终止子孙进程。
（4）释放资源。
（5）将终止进程的PCB移出。
## 请简述操作系统内核的功能。
- （1）支撑功能；（2）资源管理功能。
## 请简述引起中断的原因。
- （1） 人为设置中断；（2）程序性事故；（3）硬件故障；（4）I/O设备；（5）外部事件。
## 什么叫中断？
- 中断是改变处理器执行指令顺序的一种事件，这样的事件与CPU芯片内外部硬件电路产生的电信号相对应。
## 单重中断的处理过程。
- （1） 系统关闭中断，保护断点，把当前要执行的下一条指令的地址保存到内存中，以便中断返回时，能把这个地址恢复到程序计数器PC中，使被中断的程序从断点处开始继续执行。
（2） 转中断处理程序。 在中断处理程序中完成保护现场的工作，就是把相关的硬件上下文信息保存到内存中。
（3） 保护完现场后，要根据中断向量到中断向量表中找到与中断处理子例程入口地址相关的信息，由这些信息得到中断处理子例程的入口地址，以执行中断处理子例程，完成本次中断处理的特定处理工作。
（4） 恢复现场，开中断，CPU返回断点处继续执行被中断的程序。
## 除了I/O设备被启动时会引起中断之外，还有哪四种原因会引起中断？
- （1）人为设置中断。（2）程序性事故。（3）硬件故障。（4）外部事件。
## 时钟驱动程序完成什么功能？
- 维护日期和时间；递减当前进程在一个时间片内的剩余执行时间，并检查是否为零，防止进程运行超时；对CPU的使用情况记账；递减报警计数器。
## 时钟中断信号是如何产生的？
- OS时钟管理硬件（可编程间隔定时器PIT）主要由3部分构成：晶振、计数器和保持寄存器。晶振能够产生固定频率的脉冲，每产生一次脉冲，计数器的值减1，当计数器的值减为0时，产生一次时钟中断信号，保持寄存器的值再次送计数器。由可编程间隔定时器产生的时钟中断信号送到可编程中断控制器的时钟中断信号引脚上。
## 简述操作系统提供系统调用的优点。
（1）使编程更加容易，把用户从学习硬件设备的低级编程特性中解放出来。
（2）极大地提高了系统的安全性。
## 请说明系统调用的类型。
- 1） 进程控制类系统调用。（2） 文件操纵类系统调用。（3） 设备管理类系统调用。（4） 通信类系统调用。（5） 信息维护类系统调用 。
## 何为系统调用？请简述系统调用与一般函数调用的区别。
- 系统调用是一群预先定义好的模块，它们提供一条管道让应用程序或一般用户能由此得到核心程序的服务。系统调用是系统程序与用户程序之间的接口。系统调用与一般函数调用的区别如下： 
1) 系统调用运行在系统态(核心态)，而一般函数运行在用户态。
2) 系统调用与一般函数调用的执行过程不同。系统调用执行时，当前进程被中断，由系统找相应的系统调用子程序，并在系统态下执行，执行结果返回进程。
3) 系统调用要进行“中断处理”，比一般函数调用多了一些系统开销
## 什么是系统调用？
系统调用是一群预先定义好的模块，它们提供一条管道让应用程序或一般用户能由此得到核心程序的服务。系统调用是系统程序与用户程序之间的接口，在类UNIX系统中，系统调用多使用C语言提供的库函数作为接口。
## 请说明进程同步的任务。
- 一是对具有资源共享关系的进程，保证诸进程以互斥的方式访问临界资源。临界资源是必须以互斥方式访问的共享资源。二是对具有相互合作关系的进程，保证相互合作的诸进程协调执行。
## 请说明内存保护的任务。
- 一是使操作系统内核的空间不会被用户随意访问，以保证系统的安全和稳定；二是确保每道用户程序都在自己的内存空间中运行，互不干扰。
## 什么叫地址映射？
CPU执行程序过程中访问内存时，需要把程序的逻辑地址转变为物理地址，这个转换的过程称为地址映射。
## 简述内存扩充可以实现的功能。
-（1）请求调入功能。允许系统在装入一部分用户程序时就启动该程序的运行，在程序运行过程中若发现要执行的指令或要访问的数据尚未装入内存，通过请求调入将需要的指令或数据装入内存。（2）置换功能。在请求调入时，若发现内存空间不足，需要系统先将内存中的一部分内容置换到外存中，以便腾出内存空间装入当前需要的内容。
## 简述进程管理的功能。
- 进程可以被认为是程序的执行实体。进程管理功能主要包括进程的描述与组织、进程控制、进程同步、进程通信及进程调度。
进程控制完成进程创建、撤销进程、唤醒进程和阻塞进程等操作。
进程同步功能完成多个进程（含线程）运行的协调与互斥。
进程通信功能用来实现进程之间的信息交换。
进程调度功能是从多个可执行的进程中选出一个进程，把处理机分配给它。
## 简述设备管理应具有的功能。
- 1） 缓冲管理。管理各种缓冲区。
2） 设备分配。分配用户I/O所需要的设备。
3） 设备处理。由设备驱动程序来实现CPU与设备控制器之间的通信。
4） 设备独立性和虚拟设备。设备独立性功能使应用程序独立于物理设备。虚拟设备的功能是把一个物理设备变换为多个对应的逻辑设备，使一个物理设备能供多个用户共享。
## 简述操作系统文件的读、写管理和存取控制的作用。
- 防止未经核准的用户存取文件，防止冒名顶替存取文件，防止以不正确的方式使用文件
## 用整型信号量实现进程互斥的思想是什么？
用整型信号量实现进程互斥的思想是：为必须互斥访问的临界资源CS定义一个互斥信息量mutex，将初始值置为1，然后将CS放入wait（mutex）和signal（mutex）之间。当CS可访问时,wait（mutex）才能正常结束使进程进入CS。
## 试采用记录型信号量机制实现爸爸与妈妈进程的同步。
设置两个信号量资源；var empty，full：semaphore初始化两个资源信号量；empty. value=2
full. value=0爸爸进程如下。｛擀饼；   wait（empty）；放饼；   signal（full）；｝妈妈进程如下。｛ wait（full）；
      取饼；
     signal（empty）；      烙饼；
｝
## 简述进程同步问题中，生产者——消费者问题信号量的设置。
- （1）设置一个互斥信号量mutex，用于实现对公共缓冲池的互斥访问，初值为1。（2）设置两个资源信号量，分别表示可用资源数。empty：表示缓冲池中的空缓冲区数，初值为n。
full：表示装有消息的缓冲区数，初值为0( —个缓冲区中放一个消息)。
## 简述进程同步问题中，生产者——消费者问题需要解决的问题。
- （1）实现任意两个进程对缓冲池的互斥访问。
（2）实现对生产者进程和消费者进程的“协调”，即缓冲池中有消息时消费者进程才能执行取消息的操作。无消息时，阻塞消费者进程。缓冲池中有空闲缓冲区时，生产者进程才能 执行放消息的操作。无空间缓冲区时，阻塞生产者进程。
## 简述共享存储系统的两种类型。
- 1） 基于共享数据结构的通信方式。在这种通信方式中，要求诸进程公用某些数据结构， 以实现进程间的信息交换。
2） 基于共享存储区的通信方式。为了传输大量数据，在存储器中划出一块共享存储区， 进程可以通过对共享存储区中的数据的读或写来实现通信。
## 为什么要引入线程。
- 由于进程既是独立执行的基本单位，又是资源拥有者，在进程创建、撤销和切换时需要较大的时空开销。所以，系统中所设置的进程数和进程切换的频率都受到了限制，影响了操作系统并发程度的提高。引入线程作为独立调度和分派的单位，不独立拥有资源，而与其他线程共享同一进程的资源，减小了系统的时空开销。
## 请简述线程控制块的定义和所包含的信息。
- 定义：每个线程都由一个数据结构表示，包括它的基本状态、标识及记账信息。这个数据结构就是线程控制块。线程控制块包含线程标识信息、处理机状态信息、线程调度信息和线程控制信息。
## 什么是线程控制块？
- 每个线程都由一个数据结构表示，包括它的基本状态、标识及记账信息。这个数据结构就是线程控制块。
## 相比于进程，请简述线程在地址空间资源、通信关系、并发性及系统开销方面有哪些特点
- 1） 地址空间资源。 不同进程的地址空间是相互独立的，而同一进程中的各线程共享同一地址空间。
（2） 通信关系。 进程之间的通信必须使用操作系统提供的进程间通信机制，而同一进程中的各线程间可以通过直接读或写全局变量来进行通信，甚至无需操作系统的参与。
（3） 并发性。 多进程之间可以并发执行，多线程之间也可以并发执行，而且同一进程中的多个线程之间也可并发执行。
（4） 系统开销。 由于创建进程或撤销进程时，系统都要为之分配或回收资源，操作系统所付出的开销远大于创建或撤销线程时的开销。
## 请列举引起线程终止的原因。
- 正常结束、异常结束、外界干预。
## 简述内核线程创建的过程。
内核线程的创建是由内核完成的。内核为新线程申请空白线程控制块，并初始化线程控制块，然后将新线程插入其所属进程的就绪线程队列。
## 简述用户线程创建的过程。
- 创建线程的实用程序为新线程申请空白线程控制块，并初始化线程控制块，然后将新线程插入其所属进程的就绪线程队列
## 请说明线程的终止过程。
（1）根据被终止线程的标识符，从TCB集合中检索出该线程的TCB，从中读出该线程的状态。
（2）若被终止线程正处于运行状态，应立即终止该线程的执行，并置调度标志为真，用于指示该线程被终止后应重新执行线程调度程序。
（3）将被终止线程的TCB从所在队列(或链表)中移出，等待其他程序来搜集信息。 
## 请说明用户线程的阻塞过程。
（1）停止该线程的执行，将该线程的状态改为阻塞态。
（2）将该线程控制块插入相应的线程阻塞队列。
（3）将该线程所属进程的状态改为阻塞态。
（4）将该线程所属进程的进程控制块插入相应的进程阻塞队列。
（5）将控制传递给进程调度程序，重新进行进程调度。 
## 请说明用户线程的唤醒过程。
（1）将该线程所属进程的状态由阻塞改为就绪。
（2）将该线程所属进程的进程控制块从进程阻塞队列中移出。
（3）将该线程所属进程的进程控制块插入进程就绪队列。
（4）将该线程状态由阻塞改为就绪。
（5）将该线程的线程控制块从线程阻塞队列中移出。
（6）将该线程的线程控制块插入线程就绪队列。 
## 请说明内核线程的唤醒过程。
（1）将该线程状态由阻塞态改为就绪态。
（2）将该线程的线程控制块从线程阻塞队列中移出。
（3）将该线程的线程控制块插入线程就绪队列。 
## 请说明内核线程的阻塞过程。
 (1）停止该线程的执行，将该线程的状态改为阻塞态。
（2）将该线程控制块插入相应的线程阻塞队列。
（3）将控制传递给线程调度程序，重新进行线程调度。 
## 列出线程控制的四项基本操作功能。
（1）线程创建（2）线程的终止（3）线程的调度与切换（4）线程的阻塞与唤醒 
## 简述对各种线程的活动进行同步的原因。
- 一个线程对资源的任何修改都会影响同一个进程中其他线程的环境。因此，需要对各种线程的活动进行同步，保证诸线程以互斥的方式访问临界资源，以使它们互不干扰且不破坏数据结构。 
## 进程调度的功能是什么？
进程调度功能由操作系统内核的进程调度程序完成，在Linux内核中，进程调度功能的实现从调用内核函数schedule（）开始。进程调度的功能是按照某种策略和算法从就绪态进程（在Linux中是可执行进程）中为当前空闲的CPU选择在其上运行的新进程
## 请简述选择进程调度算法的准则。
- 1） 周转时间短（2） 响应时间快（3） 截止时间的保证（4） 系统吞吐量高（5） 处理机利用率好 
## 周转时间
周转时间指从作业被提交给系统开始，到作业完成为止的这段时间间隔。
## 说明什么是时间片轮转调度算法？
- 时间片轮转调度算法：系统将所有的就绪进程按先来先服务的原则，排成一个队列，每次调度时把CPU分配给队首进程，并令其执行一个时间片。当时间片用完时，调度程序终止当前进程的执行，并将它送到就绪队列的队尾。
## 什么是多级队列调度算法？
多级队列调度：将就绪队列分成多个独立队列，根据进程的某些属性，如需要占用的内存大小、进程优先权和进程类型，进程会被永久地分配到一个队列。每个队列有自己的调度算法。
## 时间片大小的确定应考虑什么因素？
系统对响应时间的要求、就绪队列中进程的数目、系统的处理能力。
## 多级反馈队列算法的设计要考虑什么问题？
就绪队列的数量、根据进程优先权确定进程应该进入哪个就绪队列的算法、用以确定进程何时转移到较高优先权队列的算法、用以确定进程何时转移到较低优先权队列的算法、用以确定进程在需要服务时应该进入哪个队列的算法。
## 
## 什么是短进程优先调度算法？
短进程优先的调度算法是从就绪队列中选择估计运行时间最短的进程，将处理机分配给它，使它立即执行并一直执行完成，或发生某事件而被阻塞放弃处理机时，再重新调度。
## 快速切换机制具有什么能力？
对外部中断的快速响应能力和快速的进程切换能力。
## 为了实现实时调度，系统可能需要为调度程序提供哪些信息？
就绪时间、开始截止时间和完成截止时间、处理时间、资源要求、优先级。
## 请说明实现实时调度的基本条件。
１）提供必要的调度信息；（２）系统处理能力强；（３）采用抢占式调度机制；（４）具有快速切换机制。
## 什么是最早截止时间优先调度算法？试简述该调度算法的实现方法。
最早截止时间优先调度算法是根据进程的开始截止时间确定进程的优先级。截止时间越早，进程的优先级越高，越优先获得处理机。该算法要求在系统中保持一个实时进程的就绪队列，该队列按各进程截止时间的早晚排序，具有最早截止时间的进程排在队列的最前面。调度程序在选择进程时，总是选择就绪队列中的第一个进程，为之分配处理机。
## 写出松弛度的概念及其公式，简述最低松弛度优先调度算法的实现方法。
松弛度用来表示一个实时进程的紧迫程度。
如果一个进程的完成截止时间为T，当前时间为Tc，处理完该任务还需要的时间为Ts，则松弛度L的计算式表示为
L=T-Tc-Ts在使用最低松弛度优先算法时，调度程序在调度时机到来时，每次选择松弛度L最小的进程，把CPU分配给该进程。
## 在采用最低松弛度优先算法的实时调度中，如果一个进程的完成截止时间为T1，当前时间为T2，该进程还需要T3时间来完成。
松弛度L=T1-T2-T3 
按进程的松弛度进行排序，松弛度最小的进程排在队首。
## 进程切换通常包括以下几个步骤
（1） 保存包括程序计数器和其他寄存器在内的CPU上下文环境。
（2） 更新被替换进程的进程控制块。
（3） 修改进程状态，把执行态改为就绪态或者阻塞态。
（4） 将被替换进程的进程控制块移到就绪队列或阻塞队列。
（5） 执行通过进程调度程序选择的新进程，并更新该进程的进程控制块。
（6） 更新内存管理的数据结构。
（7） 恢复被调度程序选中的进程的硬件上下文。 
## 简述进程切换的步骤。
（1） 保存包括程序计数器和其他寄存器在内的CPU上下文环境。
（2） 更新被替换进程的进程控制块。
（3） 修改进程状态，把执行态改为就绪态或者阻塞态。
（4） 将被替换进程的进程控制块移到就绪队列或阻塞队列。
（5） 执行通过进程调度程序选择的新进程，并更新该进程的进程控制块。
（6） 更新内存管理的数据结构。
（7） 恢复被调度程序选中的进程的硬件上下文。 
## 什么是自调度方式
采用自调度的系统中设置有一个公共的就绪队列，任何一个空闲的处理器都可以自行从该就绪队列中选取一个进程或者一个线程运行
## 自调度有什么优缺点？
自调度的优点是易移植和有利于提高CPU的利用率。缺点是瓶颈问题、低效性和线程切换频繁。
## 什么是专用处理器分配？
在一个应用程序执行期间，专门为该应用程序分配一组处理器，每个线程一个，这组处理器供该应用程序专用，直至应用程序完成。
## 请说明成组调度的时间分配方式。
面向所有的应用程序平均分配处理器时间和面向所有的线程平均分配处理器时间。
## 什么是死锁？引起死锁的原因是什么？
由于多个进程竞争共享资源而引起的进程不能向前推进的僵死状态称为死锁。产生死锁的原因为：竞争共享资源且分配资源的顺序不
## 请说明处理死锁的基本方法
预防死锁、避免死锁、检测并解除死锁和忽略死锁问题。
## 如何预防发生死锁
1） 摒弃请求和保持条件（2） 摒弃不剥夺条件（3） 摒弃环路等待条件 
## 什么是死锁的避免
避免死锁的方法是把系统的资源分配状态分为安全状态和不安全状态，只要资源分配使系统资源分配处于安全状态，死锁就不会发生。
## 银行家算法为什么能避免死锁?
银行家算法是一种能够避免死锁的资源分配算法。其基本思想是一个进程提出资源请求后，系统先进行资源的试分配。然后检测本次的试分配是否使系统处于安全状态，若安全则按试分配方案分配资源，否则不分配资源。
## 


